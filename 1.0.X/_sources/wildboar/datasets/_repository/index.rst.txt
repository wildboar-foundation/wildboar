:orphan:

:py:mod:`wildboar.datasets._repository`
=======================================

.. py:module:: wildboar.datasets._repository


Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   wildboar.datasets._repository.Repository
   wildboar.datasets._repository.JSONRepository
   wildboar.datasets._repository.RepositoryCollection
   wildboar.datasets._repository.Bundle
   wildboar.datasets._repository.ArffBundle
   wildboar.datasets._repository.NpyBundle




Attributes
~~~~~~~~~~

.. autoapisummary::

   wildboar.datasets._repository.DEFAULT_TAG


.. py:data:: DEFAULT_TAG
   :value: 'default'

   

.. py:class:: Repository

   A repository is a collection of bundles

   .. py:property:: name
      :abstractmethod:

      Name of the repository

      :returns: **str**
      :rtype: the name of the repository

   .. py:property:: version
      :abstractmethod:

      The repository version

      :returns: **str**
      :rtype: the version of the repository

   .. py:property:: download_url
      :abstractmethod:

      The url template for downloading bundles

      :returns: **str**
      :rtype: the download url

   .. py:property:: wildboar_requires
      :abstractmethod:

      The minimum required wildboar version

      :returns: **str**
      :rtype: the min version

   .. py:method:: get_bundles()
      :abstractmethod:

      Get all bundles

      :returns: **dict**
      :rtype: a dictionary of key and bundle


   .. py:method:: get_bundle(key)

      Get a bundle with the specified key

      :param key: Key of the bundle
      :type key: str

      :returns: **bundle** -- A bundle or None
      :rtype: Bundle, optional


   .. py:method:: load_dataset(bundle, dataset, *, cache_dir, version=None, tag=None, create_cache_dir=True, progress=True, dtype=None, force=False)


   .. py:method:: list_datasets(bundle, *, cache_dir, version=None, tag=None, create_cache_dir=True, progress=True, force=False)


   .. py:method:: clear_cache(cache_dir, keep_last_version=True)


   .. py:method:: refresh()

      Refresh the repository



.. py:class:: JSONRepository(url)

   Bases: :py:obj:`Repository`

   A repository is a collection of bundles

   .. py:property:: wildboar_requires

      The minimum required wildboar version

      :returns: **str**
      :rtype: the min version

   .. py:property:: name

      Name of the repository

      :returns: **str**
      :rtype: the name of the repository

   .. py:property:: version

      The repository version

      :returns: **str**
      :rtype: the version of the repository

   .. py:property:: download_url

      The url template for downloading bundles

      :returns: **str**
      :rtype: the download url

   .. py:method:: get_bundles()

      Get all bundles

      :returns: **dict**
      :rtype: a dictionary of key and bundle


   .. py:method:: refresh()

      Refresh the repository



.. py:class:: RepositoryCollection

   .. py:method:: __getitem__(item)


   .. py:method:: __contains__(item)


   .. py:method:: __iter__()


   .. py:method:: append(item)



.. py:class:: Bundle(*, key, version, name, description=None, class_index=-1)

   Base class for handling dataset bundles

   .. attribute:: name

      Human-readable name of the bundle

      :type: str

   .. attribute:: description

      Description of the bundle

      :type: str

   .. attribute:: class_index

      Index of the class label(s)

      :type: int or array-like

   .. py:method:: get_filename(version=None, tag=None, ext=None)


   .. py:method:: list(archive)

      List all datasets in this bundle

      :param archive: The bundle file
      :type archive: ZipFile

      :returns: **dataset_names** -- A sorted list of datasets in the bundle
      :rtype: list


   .. py:method:: load(name, archive, *, dtype=None)

      Load a dataset from the bundle

      :param name: Name of the dataset
      :type name: str
      :param archive: The zip-file bundle
      :type archive: ZipFile
      :param dtype: Cast the data and label matrix to a specific type
      :type dtype: object, optional

      :returns: * **x** (*ndarray*) -- Data samples
                * **y** (*ndarray*) -- Data labels
                * **n_training_samples** (*int*) -- Number of samples that are for training. The value is <= x.shape[0]



.. py:class:: ArffBundle(*, key, version, name, description=None, class_index=-1, encoding='utf-8')

   Bases: :py:obj:`Bundle`

   bundle of .arff-files


.. py:class:: NpyBundle(*, key, version, name, description=None, class_index=-1)

   Bases: :py:obj:`Bundle`

   bundle of numpy binary files


