:orphan:

:mod:`wildboar.datasets._repository`
====================================

.. py:module:: wildboar.datasets._repository


Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   wildboar.datasets._repository.Repository
   wildboar.datasets._repository.JSONRepository
   wildboar.datasets._repository.RepositoryCollection
   wildboar.datasets._repository.Bundle
   wildboar.datasets._repository.ArffBundle
   wildboar.datasets._repository.NpyBundle



.. data:: DEFAULT_TAG
   :annotation: = default

   

.. class:: Repository

   A repository is a collection of bundles

   .. method:: name(self)
      :property:

      Name of the repository

      :returns: **str**
      :rtype: the name of the repository


   .. method:: version(self)
      :property:

      The repository version

      :returns: **str**
      :rtype: the version of the repository


   .. method:: download_url(self)
      :property:

      The url template for downloading bundles

      :returns: **str**
      :rtype: the download url


   .. method:: wildboar_requires(self)
      :property:

      The minimum required wildboar version

      :returns: **str**
      :rtype: the min version


   .. method:: get_bundles(self)
      :abstractmethod:

      Get all bundles

      :returns: **dict**
      :rtype: a dictionary of key and bundle


   .. method:: get_bundle(self, key)

      Get a bundle with the specified key

      :param key: Key of the bundle
      :type key: str

      :returns: **bundle** -- A bundle or None
      :rtype: Bundle, optional


   .. method:: load_dataset(self, bundle, dataset, *, cache_dir, version=None, tag=None, create_cache_dir=True, progress=True, dtype=None, force=False)


   .. method:: list_datasets(self, bundle, *, cache_dir, version=None, tag=None, create_cache_dir=True, progress=True, force=False)


   .. method:: clear_cache(self, cache_dir, keep_last_version=True)


   .. method:: refresh(self)

      Refresh the repository



.. class:: JSONRepository(url)


   Bases: :class:`wildboar.datasets._repository.Repository`

   A repository is a collection of bundles

   .. method:: wildboar_requires(self)
      :property:

      The minimum required wildboar version

      :returns: **str**
      :rtype: the min version


   .. method:: name(self)
      :property:

      Name of the repository

      :returns: **str**
      :rtype: the name of the repository


   .. method:: version(self)
      :property:

      The repository version

      :returns: **str**
      :rtype: the version of the repository


   .. method:: download_url(self)
      :property:

      The url template for downloading bundles

      :returns: **str**
      :rtype: the download url


   .. method:: get_bundles(self)

      Get all bundles

      :returns: **dict**
      :rtype: a dictionary of key and bundle


   .. method:: refresh(self)

      Refresh the repository



.. class:: RepositoryCollection


   .. method:: __getitem__(self, item)


   .. method:: __contains__(self, item)


   .. method:: __iter__(self)


   .. method:: append(self, item)



.. class:: Bundle(*, key, version, name, description=None, class_index=-1)


   Base class for handling dataset bundles

   .. attribute:: name

      Human-readable name of the bundle

      :type: str

   .. attribute:: description

      Description of the bundle

      :type: str

   .. attribute:: class_index

      Index of the class label(s)

      :type: int or array-like

   .. method:: get_filename(self, version=None, tag=None, ext=None)


   .. method:: list(self, archive)

      List all datasets in this bundle

      :param archive: The bundle file
      :type archive: ZipFile

      :returns: **dataset_names** -- A sorted list of datasets in the bundle
      :rtype: list


   .. method:: load(self, name, archive, *, dtype=None)

      Load a dataset from the bundle

      :param name: Name of the dataset
      :type name: str
      :param archive: The zip-file bundle
      :type archive: ZipFile
      :param dtype: Cast the data and label matrix to a specific type
      :type dtype: object, optional

      :returns: * **x** (*ndarray*) -- Data samples
                * **y** (*ndarray*) -- Data labels
                * **n_training_samples** (*int*) -- Number of samples that are for training. The value is <= x.shape[0]



.. class:: ArffBundle(*, key, version, name, description=None, class_index=-1, encoding='utf-8')


   Bases: :class:`wildboar.datasets._repository.Bundle`

   bundle of .arff-files


.. class:: NpyBundle(*, key, version, name, description=None, class_index=-1)


   Bases: :class:`wildboar.datasets._repository.Bundle`

   bundle of numpy binary files


