
<!DOCTYPE html>


<html lang="en" data-content_root="../../" data-theme="auto">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Distance &#8212; Wildboar 1.3.0.dev58+gc77a031b4 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=11f2bc40" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=584e34e5" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/pygments-override.css?v=9e853fe2" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../../_static/documentation_options.js?v=b3b9adba"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/tabs.js?v=3ee01567"></script>
    <script src="../../_static/toggleprompt.js?v=5801b3bb"></script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'guide/metrics/distance';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.2';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://wildboar.dev/_versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <script src="../../_static/js/fa.js?v=744fd48f"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Elastic metrics" href="elastic.html" />
    <link rel="prev" title="Metrics" href="../metrics.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="auto">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">Wildboar</p>
  
</a></div>
    
      <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../install.html">
                        Install
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../../guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../api/index.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../more/whatsnew.html">
                        What’s new
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/wildboar-foundation/wildboar/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/wildboar/" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../install.html">
                        Install
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../../guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../api/index.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../more/whatsnew.html">
                        What’s new
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/wildboar-foundation/wildboar/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/wildboar/" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../basics.html">Time series</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../datasets.html">Datasets</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../datasets/repositories.html">Repositories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datasets/preprocess.html">Pre-processing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../annotate.html">Annotate</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../metrics.html">Metrics</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Distance</a></li>
<li class="toctree-l2"><a class="reference internal" href="elastic.html">Elastic metrics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dimension_selection.html">Dimension selection</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../supervised.html">Supervised learning</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../supervised/trees.html">Tree-based estimators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../supervised/ensemble.html">Ensemble estimators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../supervised/transform.html">Transform-based estimators</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../unsupervised.html">Unsupervised learning</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../unsupervised/outlier.html">Outlier detection</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../unsupervised/outlier/generation.html">Outlier detection benchmarks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../unsupervised/segmentation.html">Segmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../unsupervised/transform.html">Time series transform</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../guide.html" class="nav-link">User Guide</a></li>
    
    
    <li class="breadcrumb-item"><a href="../metrics.html" class="nav-link">Metrics</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Distance</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="distance">
<span id="id1"></span><h1>Distance<a class="headerlink" href="#distance" title="Link to this heading">#</a></h1>
<section id="pairwise-distance">
<h2>Pairwise distance<a class="headerlink" href="#pairwise-distance" title="Link to this heading">#</a></h2>
<p>A typical workflow involves computing the distance between pairs of time series.
In Wildboar, we accomplish this using the <a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.pairwise_distance" title="wildboar.distance.pairwise_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">pairwise_distance</span></code></a>-function
which computes the distance between each time series in <cite>X</cite> and optionally <cite>Y</cite>.
For example, we can compute the _Euclidean <a class="reference internal" href="#distance">distance</a> (default) between each
pair from time series of a single array as:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wildboar.datasets</span> <span class="kn">import</span> <span class="n">load_two_lead_ecg</span>
<span class="kn">from</span> <span class="nn">wildboar.distance</span> <span class="kn">import</span> <span class="n">pairwise_distance</span>

<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">load_two_lead_ecg</span><span class="p">()</span>
<span class="n">pairwise_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span>        <span class="p">,</span> <span class="mf">3.51158857</span><span class="p">,</span> <span class="mf">5.11514381</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">3.51158857</span><span class="p">,</span> <span class="mf">0.</span>        <span class="p">,</span> <span class="mf">2.35905618</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">5.11514381</span><span class="p">,</span> <span class="mf">2.35905618</span><span class="p">,</span> <span class="mf">0.</span>        <span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When computing the distance between time series in a single array, one can
note that the upper and lower triangles of the distance matrix are mirror
images of each other. Wildboar optimizes this and only computes the upper
part of the triangle and mirrors it as the lower half, halving the
computational cost. As such, it is advised to compute the distance as
<cite>pairwise_distance(X)</cite> and not <cite>pairwise_distance(X, X)</cite>. Wildboar tries to
be smart and computes the single triangle if <cite>X is Y</cite>, i.e., <cite>X</cite> and <cite>Y</cite> are
the same object. However, it will not detect if <cite>(X == Y).all()</cite> (e.g.,
<cite>pairwise_distance(X, X.copy())</cite>) and will compute the full matrix.</p>
</div>
<p>If we pass a second array, then the returned matrix is the pairwise distance
between the time series from both <cite>X</cite> and <cite>Y</cite>.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairwise_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[:</span><span class="mi">3</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">4.85497117</span><span class="p">,</span> <span class="mf">5.96086309</span><span class="p">,</span> <span class="mf">6.18777928</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">2.00606825</span><span class="p">,</span> <span class="mf">5.23060212</span><span class="p">,</span> <span class="mf">4.27419835</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">1.64445581</span><span class="p">,</span> <span class="mf">6.38965963</span><span class="p">,</span> <span class="mf">4.79102936</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>By default, the <a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.pairwise_distance" title="wildboar.distance.pairwise_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">pairwise_distance</span></code></a> function computes the Euclidean
distance. We can change the metric by specifying the <cite>metric</cite> parameter
<a class="reference external" href="list_of_subsequence_metrics">as one of the supported metrics</a>:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairwise_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[:</span><span class="mi">3</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;edr&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">0.59756098</span><span class="p">,</span> <span class="mf">0.47560976</span><span class="p">,</span> <span class="mf">0.64634146</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.08536585</span><span class="p">,</span> <span class="mf">0.03658537</span><span class="p">,</span> <span class="mf">0.13414634</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.09756098</span><span class="p">,</span> <span class="mf">0.25609756</span><span class="p">,</span> <span class="mf">0.12195122</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>We can also specify optional extra parameters to the metric using the
<cite>metric_params</cite>-parameter:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairwise_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[:</span><span class="mi">3</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;twe&quot;</span><span class="p">,</span> <span class="n">metric_params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;stiffness&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">})</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">76.20881199</span><span class="p">,</span> <span class="mf">73.62554784</span><span class="p">,</span> <span class="mf">88.5536877</span> <span class="p">],</span>
       <span class="p">[</span><span class="mf">27.49142159</span><span class="p">,</span> <span class="mf">60.56024904</span><span class="p">,</span> <span class="mf">50.24551102</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">20.45513015</span><span class="p">,</span> <span class="mf">81.60658533</span><span class="p">,</span> <span class="mf">54.06099416</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>We support a multitude of input configurations and the return value of
<a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.pairwise_distance" title="wildboar.distance.pairwise_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">pairwise_distance</span></code></a> depends on the input shape(s) of <cite>X</cite> (with
<cite>x_samples</cite>) and <cite>Y</cite> (with <cite>y_samples</cite>) (and the <cite>dim</cite> parameter):</p>
<dl>
<dt><em>A single 1d-array `X`</em></dt><dd><p>Returns the scalar $0$.</p>
</dd>
<dt><em>A single 2d-array `X`</em></dt><dd><p>Returns a 2d-array with the distance between each sample in <cite>X</cite> of shape
<cite>(x_samples, x_samples)</cite>.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairwise_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span>        <span class="p">,</span> <span class="mf">3.51158857</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">3.51158857</span><span class="p">,</span> <span class="mf">0.</span>        <span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
</dd>
<dt><em>A 1d-array `X` and a 1d-array `Y`</em></dt><dd><p>Returns a scalar with the distance of <cite>X</cite> to <cite>Y</cite></p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairwise_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">5.115143810620726</span>
</pre></div>
</div>
</div>
</div>
</div>
</dd>
<dt><em>A 1d-array `X` and a 2d-array `Y`</em></dt><dd><p>Returns a 1d-array of the distance between <cite>X</cite> and each sample in <cite>Y</cite> of shape
<cite>(y_samples, )</cite>. If <cite>Y</cite> is a 1d-array and <cite>X</cite> is a 2d-array, a 1d-array, of
shape <cite>(x_samples, )</cite>, with the distance between <cite>Y</cite> and each sample in <cite>X</cite> is
returned.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairwise_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">5.11514381</span><span class="p">,</span> <span class="mf">4.85497117</span><span class="p">,</span> <span class="mf">5.96086309</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
</dd>
<dt><em>A 2d-array `X` and a 2d-array `Y`</em></dt><dd><p>Returns a 2d-array with the distance between each sample in <cite>X</cite> and each
sample in <cite>Y</cite> of shape <cite>(x_samples, y_samples)</cite>.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairwise_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">5.11514381</span><span class="p">,</span> <span class="mf">4.85497117</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">2.35905618</span><span class="p">,</span> <span class="mf">2.00606825</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
</dd>
<dt><em>A 3d-array `X` and a 3d-array `Y`</em></dt><dd><p>Returns a 2d-array with the distance between each sample in <cite>X</cite> and each
sample in <cite>Y</cite> of shape <cite>(x_samples, y_samples)</cite>.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">12</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">pairwise_distance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">3.86658733</span><span class="p">,</span> <span class="mf">3.75622584</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">5.29468998</span><span class="p">,</span> <span class="mf">6.06939656</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>If we set the parameter <code class="code highlight python docutils literal highlight-python"><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;full&quot;</span></code> we return a 3d-array of shape
<code class="code highlight python docutils literal highlight-python"><span class="p">(</span><span class="n">n_dims</span><span class="p">,</span> <span class="n">n_samples</span><span class="p">,</span> <span class="n">n_timestep</span><span class="p">)</span></code>. <a class="reference external" href="multivariate_support">Read more about
multivariate support</a>.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">12</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">pairwise_distance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s2">&quot;full&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[[</span><span class="mf">5.48683192</span><span class="p">,</span> <span class="mf">6.60301954</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">4.34083722</span><span class="p">,</span> <span class="mf">6.35954558</span><span class="p">]],</span>

       <span class="p">[[</span><span class="mf">2.50507001</span><span class="p">,</span> <span class="mf">0.90920635</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">5.27646127</span><span class="p">,</span> <span class="mf">4.60041068</span><span class="p">]],</span>

       <span class="p">[[</span><span class="mf">3.60786006</span><span class="p">,</span> <span class="mf">3.75645164</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">6.26677146</span><span class="p">,</span> <span class="mf">7.24823344</span><span class="p">]]])</span>
</pre></div>
</div>
</div>
</div>
</div>
</dd>
</dl>
<section id="paired-distance">
<h3>Paired distance<a class="headerlink" href="#paired-distance" title="Link to this heading">#</a></h3>
<p>Sometimes we do not need to compute the distance between every sample, but
instead the distance between _pairs_ of samples. For this purpose, we use the
<a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.paired_distance" title="wildboar.distance.paired_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">paired_distance</span></code></a>, which accepts two arrays <cite>X</cite> and <cite>Y</cite> with shapes
<code class="code highlight python docutils literal highlight-python"><span class="p">(</span><span class="n">x_samples</span><span class="p">,</span> <span class="n">x_timestep</span><span class="p">)</span></code> and <code class="code highlight python docutils literal highlight-python"><span class="p">(</span><span class="n">y_samples</span><span class="p">,</span> <span class="n">y_timesteps</span><span class="p">)</span></code> with
<code class="code highlight python docutils literal highlight-python"><span class="n">x_timestep</span> <span class="o">==</span> <span class="n">y_timestep</span></code> for non-elastic metrics and <cite>X</cite> and <cite>Y</cite> that can be
broadcast to a uniform shape.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wildboar.distance</span> <span class="kn">import</span> <span class="n">paired_distance</span>

<span class="n">paired_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">4.85497117</span><span class="p">,</span> <span class="mf">5.23060212</span><span class="p">,</span> <span class="mf">4.79102936</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">paired_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span>  <span class="c1"># Broadcasting</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">4.85497117</span><span class="p">,</span> <span class="mf">5.96086309</span><span class="p">,</span> <span class="mf">6.18777928</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>Similar to <a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.pairwise_distance" title="wildboar.distance.pairwise_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">pairwise_distance</span></code></a>, we support the parameters <cite>metric</cite> and
<cite>metric_params</cite> accepting the same input:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">paired_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;wdtw&quot;</span><span class="p">,</span> <span class="n">metric_params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;g&quot;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">0.50816474</span><span class="p">,</span> <span class="mf">0.3299048</span> <span class="p">,</span> <span class="mf">0.55193242</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p><a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.paired_distance" title="wildboar.distance.paired_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">paired_distance</span></code></a> also supports a multitude of input configurations and
the output depends on that configuration:</p>
<dl>
<dt><em>A 1d-array `X` and a 1d-array `Y`</em></dt><dd><p>Returns a scalar with the distance of <cite>X</cite> to <cite>Y</cite>.</p>
</dd>
<dt><em>Two arrays that can be broadcast to the same shape</em></dt><dd><p>Returns a 1d-array of shape <cite>(n_samples, )</cite>.</p>
<p>If 3d-arrays, and the parameter <cite>dim</cite> is set to <cite>“full”</cite>, we return a
2d-array of shape <code class="code highlight python docutils literal highlight-python"><span class="p">(</span><span class="n">n_dims</span><span class="p">,</span> <span class="n">n_samples</span><span class="p">)</span></code>. Refer to <a class="reference external" href="multivariate_support">more about
multivariate support</a> for additional details.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">12</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">paired_distance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s2">&quot;full&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">5.48683192</span><span class="p">,</span> <span class="mf">6.35954558</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">2.50507001</span><span class="p">,</span> <span class="mf">4.60041068</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">3.60786006</span><span class="p">,</span> <span class="mf">7.24823344</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
</dd>
</dl>
</section>
</section>
<section id="minimum-distance">
<h2>Minimum distance<a class="headerlink" href="#minimum-distance" title="Link to this heading">#</a></h2>
<p>Another common task is to, given a query time series <span class="math notranslate nohighlight">\(q\)</span> and a set of
time series <span class="math notranslate nohighlight">\(\mathcal{T}\)</span> find the (<cite>k</cite>) time series in the set that has
the minimal distance to <span class="math notranslate nohighlight">\(q\)</span>. A naive solution is to calculate the
distance between the query and every time series, selecting the <cite>k</cite> time series
with the lowest distance:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairwise_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">12</span><span class="p">])</span><span class="o">.</span><span class="n">argmin</span><span class="p">()</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">4</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>Or if we want to return the <cite>k</cite> closest, we can use <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.argpartition.html#numpy.argpartition" title="(in NumPy v1.26)"><code class="xref py py-func docutils literal notranslate"><span class="pre">argpartition</span></code></a>
(here <code class="docutils literal notranslate"><span class="pre">k=4</span></code>):</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">argpartition</span>

<span class="n">argpartition</span><span class="p">(</span><span class="n">pairwise_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">11</span><span class="p">:</span><span class="mi">300</span><span class="p">]),</span> <span class="mi">4</span><span class="p">)[:,</span> <span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span>  <span class="mi">6</span><span class="p">,</span> <span class="mi">276</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span> <span class="mi">120</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">244</span><span class="p">,</span>  <span class="mi">50</span><span class="p">,</span> <span class="mi">282</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">101</span><span class="p">,</span> <span class="mi">277</span><span class="p">,</span> <span class="mi">270</span><span class="p">,</span> <span class="mi">217</span><span class="p">],</span>
       <span class="o">...</span><span class="p">,</span>
       <span class="p">[</span><span class="mi">204</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">274</span><span class="p">,</span> <span class="mi">109</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">213</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span> <span class="mi">208</span><span class="p">,</span> <span class="mi">193</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">246</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span>  <span class="mi">43</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>Wildboar implements this pattern in the <a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.argmin_distance" title="wildboar.distance.argmin_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">argmin_distance</span></code></a> function. The
function uses early abandoning to avoid computing the full distance for time
series that would never be among the closest.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wildboar.distance</span> <span class="kn">import</span> <span class="n">argmin_distance</span>

<span class="n">argmin_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">11</span><span class="p">:</span><span class="mi">300</span><span class="p">],</span> <span class="n">k</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mi">120</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span> <span class="mi">276</span><span class="p">,</span>   <span class="mi">6</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">282</span><span class="p">,</span>  <span class="mi">50</span><span class="p">,</span> <span class="mi">244</span><span class="p">,</span>  <span class="mi">85</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">217</span><span class="p">,</span> <span class="mi">270</span><span class="p">,</span> <span class="mi">277</span><span class="p">,</span> <span class="mi">101</span><span class="p">],</span>
       <span class="o">...</span><span class="p">,</span>
       <span class="p">[</span><span class="mi">109</span><span class="p">,</span> <span class="mi">274</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">204</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">193</span><span class="p">,</span> <span class="mi">213</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span> <span class="mi">208</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">246</span><span class="p">,</span> <span class="mi">111</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>The output of both calls are equivalent but the latter is roughly three times
faster for most metrics.</p>
<section id="multivariate-support">
<span id="id2"></span><h3>Multivariate support<a class="headerlink" href="#multivariate-support" title="Link to this heading">#</a></h3>
<p>As described, both <a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.paired_distance" title="wildboar.distance.paired_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">paired_distance</span></code></a> and <a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.pairwise_distance" title="wildboar.distance.pairwise_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">pairwise_distance</span></code></a> support
multivariate time series by computing the <em>“interdimensional” distance</em> between
time series and (by default) reporting the <em>mean</em> (<cite>dim=”mean”</cite>). Optionally, we
can return the full distance matrix by setting <code class="code highlight python docutils literal highlight-python"><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;full&quot;</span></code>:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">12</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">pairwise_distance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s2">&quot;full&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[[</span><span class="mf">5.48683192</span><span class="p">,</span> <span class="mf">6.60301954</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">4.34083722</span><span class="p">,</span> <span class="mf">6.35954558</span><span class="p">]],</span>

       <span class="p">[[</span><span class="mf">2.50507001</span><span class="p">,</span> <span class="mf">0.90920635</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">5.27646127</span><span class="p">,</span> <span class="mf">4.60041068</span><span class="p">]],</span>

       <span class="p">[[</span><span class="mf">3.60786006</span><span class="p">,</span> <span class="mf">3.75645164</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">6.26677146</span><span class="p">,</span> <span class="mf">7.24823344</span><span class="p">]]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>By setting <code class="code highlight python docutils literal highlight-python"><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;full&quot;</span></code>, Wildboar returns the full array of distances
between all dimensions. The returned array has the shape <code class="code highlight python docutils literal highlight-python"><span class="p">(</span><span class="n">n_dims</span><span class="p">,</span>
<span class="n">x_samples</span><span class="p">,</span> <span class="n">y_samples</span><span class="p">)</span></code>. Similarly, we can compute the paired distance:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">paired_distance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s2">&quot;full&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">5.48683192</span><span class="p">,</span> <span class="mf">6.35954558</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">2.50507001</span><span class="p">,</span> <span class="mf">4.60041068</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">3.60786006</span><span class="p">,</span> <span class="mf">7.24823344</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>Note that the <a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.paired_distance" title="wildboar.distance.paired_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">paired_distance</span></code></a> returns an array of shape
<code class="code highlight python docutils literal highlight-python"><span class="p">(</span><span class="n">n_dims</span><span class="p">,</span> <span class="n">n_samples</span><span class="p">)</span></code>.</p>
<p>If we are interested in the distance between a single dimension we can either
slice the input data:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">pairwise_distance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s2">&quot;full&quot;</span><span class="p">)</span>
<span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">5.48683192</span><span class="p">,</span> <span class="mf">6.60301954</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">4.34083722</span><span class="p">,</span> <span class="mf">6.35954558</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>or slice the full distance matrix:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">paired_distance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s2">&quot;full&quot;</span><span class="p">)</span>
<span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">5.48683192</span><span class="p">,</span> <span class="mf">6.35954558</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>If we are <strong>only</strong> interested in a single dimension, we can set the <cite>dim</cite>
parameter to the dimension we are want:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairwise_distance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">5.48683192</span><span class="p">,</span> <span class="mf">6.60301954</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">4.34083722</span><span class="p">,</span> <span class="mf">6.35954558</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>and for <a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.paired_distance" title="wildboar.distance.paired_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">paired_distance</span></code></a>:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">paired_distance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">5.48683192</span><span class="p">,</span> <span class="mf">6.35954558</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>By setting <code class="code highlight python docutils literal highlight-python"><span class="n">dim</span></code> to the desired dimension, we avoid computing the
distance between unwanted dimensions.</p>
</section>
</section>
<section id="subsequence-search">
<h2>Subsequence search<a class="headerlink" href="#subsequence-search" title="Link to this heading">#</a></h2>
<p>Wildboar can also identify the (minimum) <em>subsequence</em> distance, i.e.,
<span class="math notranslate nohighlight">\(\min\limits_{t'\in t}(s, t')\)</span>, where <span class="math notranslate nohighlight">\(s\)</span> is a query and <span class="math notranslate nohighlight">\(t\)</span>
is a time series, with <span class="math notranslate nohighlight">\(|s| \le |t|\)</span>. Wildboar support both
<a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.pairwise_subsequence_distance" title="wildboar.distance.pairwise_subsequence_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">pairwise_subsequence_distance</span></code></a> and <a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.paired_subsequence_distance" title="wildboar.distance.paired_subsequence_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">paired_subsequence_distance</span></code></a>
which works similar to their non-subsequence counterparts, but also
<a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.subsequence_match" title="wildboar.distance.subsequence_match"><code class="xref py py-func docutils literal notranslate"><span class="pre">subsequence_match</span></code></a> to identify subsequences with a distance within a
user specified _threshold_. Since Numpy does not support <em>jagged</em>-arrays, both
the paired and pairwise subsequence functions accept subsequences as <code class="docutils literal notranslate"><span class="pre">list</span></code>
containing 1d-numpy arrays and 2d-numpy arrays with subsequences with the same
timestep.</p>
<section id="pairwise-subsequence-distance">
<h3>Pairwise subsequence distance<a class="headerlink" href="#pairwise-subsequence-distance" title="Link to this heading">#</a></h3>
<p>Pairwise subsequence distance requires two inputs, the subsequences <cite>Y</cite>
(argument 1) and the time series <cite>X</cite> (argument 2):</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wildboar.distance</span> <span class="kn">import</span> <span class="n">pairwise_subsequence_distance</span>

<span class="n">pairwise_subsequence_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">:</span><span class="mi">60</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">12</span><span class="p">])</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">1.66371456</span><span class="p">,</span> <span class="mf">2.11914265</span><span class="p">,</span> <span class="mf">1.13076667</span><span class="p">,</span> <span class="mf">1.99043671</span><span class="p">,</span> <span class="mf">1.73408875</span><span class="p">,</span>
       <span class="mf">1.84227457</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>We can also pass multiple subsequences with the same number of time steps as a
2d-numpy array:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairwise_subsequence_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">30</span><span class="p">:</span><span class="mi">60</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">12</span><span class="p">])</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">1.66371456</span><span class="p">,</span> <span class="mf">1.2028058</span> <span class="p">,</span> <span class="mf">1.17725071</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">2.11914265</span><span class="p">,</span> <span class="mf">0.85972633</span><span class="p">,</span> <span class="mf">0.81245725</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">1.13076667</span><span class="p">,</span> <span class="mf">0.85367621</span><span class="p">,</span> <span class="mf">1.59786396</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">1.99043671</span><span class="p">,</span> <span class="mf">0.86957415</span><span class="p">,</span> <span class="mf">1.65083422</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">1.73408875</span><span class="p">,</span> <span class="mf">0.64041732</span><span class="p">,</span> <span class="mf">1.38897019</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">1.84227457</span><span class="p">,</span> <span class="mf">1.33156061</span><span class="p">,</span> <span class="mf">1.06460666</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>or with different number of time steps as a Python list:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairwise_subsequence_distance</span><span class="p">([</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">:</span><span class="mi">60</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]],</span> <span class="n">X</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">12</span><span class="p">])</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">1.66371456</span><span class="p">,</span> <span class="mf">0.56698045</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">2.11914265</span><span class="p">,</span> <span class="mf">0.99489626</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">1.13076667</span><span class="p">,</span> <span class="mf">0.6790517</span> <span class="p">],</span>
       <span class="p">[</span><span class="mf">1.99043671</span><span class="p">,</span> <span class="mf">0.16754772</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">1.73408875</span><span class="p">,</span> <span class="mf">0.10973127</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">1.84227457</span><span class="p">,</span> <span class="mf">0.50583639</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>Since we support multiple input configurations, the return value depends on the
inputs:</p>
<dl class="simple">
<dt><em>A 1d-array `Y` and a 1d-array `X`</em></dt><dd><p>Returns a scalar with the minimum distance of <cite>Y</cite> to <cite>X</cite>.</p>
</dd>
<dt><em>A 1d-array `Y` and a 2d or 3d-array `X`</em></dt><dd><p>Returns a 1d-array of shape <cite>(n_samples, )</cite> with the minimum distance of the
subsequence to each sample.</p>
</dd>
<dt><em>A 2d-array or list `Y` and a 1d-array `X`</em></dt><dd><p>Returns a 1d-array of shape <cite>(n_subsequences, )</cite> with the minimum distance of
each subsequence to the sample.</p>
</dd>
<dt><em>A 2d-array or list `Y` and a 2d or 3d-array `X`</em></dt><dd><p>Returns a 2d-array of shape <cite>(n_subsequences, n_samples)</cite> with the minimum
distance of each subsequence to each sample.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="../../api/wildboar/distance/index.html#wildboar.distance.pairwise_subsequence_distance" title="wildboar.distance.pairwise_subsequence_distance"><code class="xref py py-func docutils literal notranslate"><span class="pre">pairwise_subsequence_distance</span></code></a> only supports
univariate subsequences. As such, the <cite>dim</cite> parameter only accepts a <cite>int</cite>
denoting the dimension in which to compute the subsequence distance. We can use
the following code to compute the distance between the subsequence and each
dimension of every sample, with consistent output.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">pairwise_sd_full</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span>
        <span class="p">[</span><span class="n">pairwise_subsequence_distance</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="n">dim</span><span class="p">)</span> <span class="k">for</span> <span class="n">dim</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])],</span>
        <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span>


<span class="n">x</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">14</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">pairwise_sd_full</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">:</span><span class="mi">60</span><span class="p">],</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">2.21688671</span><span class="p">,</span> <span class="mf">1.13076667</span><span class="p">,</span> <span class="mf">1.84227457</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">1.66371456</span><span class="p">,</span> <span class="mf">1.99043671</span><span class="p">,</span> <span class="mf">1.83210644</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">2.11914265</span><span class="p">,</span> <span class="mf">1.73408875</span><span class="p">,</span> <span class="mf">1.50884094</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairwise_sd_full</span><span class="p">([</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">:</span><span class="mi">60</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span><span class="mi">20</span><span class="p">]],</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[[</span><span class="mf">2.21688671</span><span class="p">,</span> <span class="mf">0.18507116</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">1.13076667</span><span class="p">,</span> <span class="mf">0.11177626</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">1.84227457</span><span class="p">,</span> <span class="mf">0.15611733</span><span class="p">]],</span>

       <span class="p">[[</span><span class="mf">1.66371456</span><span class="p">,</span> <span class="mf">0.21780536</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">1.99043671</span><span class="p">,</span> <span class="mf">0.13350353</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">1.83210644</span><span class="p">,</span> <span class="mf">0.09710811</span><span class="p">]],</span>

       <span class="p">[[</span><span class="mf">2.11914265</span><span class="p">,</span> <span class="mf">0.75114125</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">1.73408875</span><span class="p">,</span> <span class="mf">0.13489775</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">1.50884094</span><span class="p">,</span> <span class="mf">0.09806374</span><span class="p">]]])</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<p>We can request the <em>best matching index</em>, i.e., the index where the minimum
distance between the subsequence and the time series is identified, by setting
<cite>return_index</cite> to <cite>True</cite>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dist</span><span class="p">,</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">pairwise_subsequence_distance</span><span class="p">([</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">:</span><span class="mi">60</span><span class="p">]],</span> <span class="n">X</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">12</span><span class="p">],</span><span class="n">return_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist</span>
<span class="go">array([1.66371456, 2.11914265, 1.13076667, 1.99043671, 1.73408875,</span>
<span class="go">       1.84227457])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span>
<span class="go">array([28, 30, 28, 34, 30, 28])</span>
</pre></div>
</div>
<p>For example, we can see that the minimum distance of the subsequence is located
at index <cite>28</cite> for both the first, third and last sample.</p>
</section>
</section>
<section id="benchmark">
<h2>Benchmark<a class="headerlink" href="#benchmark" title="Link to this heading">#</a></h2>
<p>As a component of the Wildboar test suite, we systematically evaluate the performance
of the estimators and, notably, the metrics, which are a crucial element of numerous
tasks. All Wildboar metrics, encompassing subsequence and elastic
metrics, are implemented in Cython to optimize CPU and memory efficiency.
Upon examining the relative performance of the various metrics and their
theoretical time and space complexity, it is evident that the elastic metrics are
generally two to three orders of magnitude less efficient than the non-elastic metrics.</p>
<section id="metrics">
<h3>Metrics<a class="headerlink" href="#metrics" title="Link to this heading">#</a></h3>
<table class="table">
<colgroup>
<col style="width: 40.0%" />
<col style="width: 12.0%" />
<col style="width: 12.0%" />
<col style="width: 12.0%" />
<col style="width: 12.0%" />
<col style="width: 12.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Metric name</p></th>
<th class="head"><p>Time</p></th>
<th class="head"><p>Space</p></th>
<th class="head"><p>Minimum</p></th>
<th class="head"><p>Maximum</p></th>
<th class="head"><p>Mean</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">chebyshev</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">angular</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.97686</p></td>
<td><p>0.87686</p></td>
<td><p>0.98368</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cosine</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.98282</p></td>
<td><p>1.11131</p></td>
<td><p>0.98268</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">manhattan</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.95506</p></td>
<td><p>1.14157</p></td>
<td><p>0.96041</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">euclidean</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.94631</p></td>
<td><p>0.83231</p></td>
<td><p>0.92207</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">normalized_euclidean</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.55527</p></td>
<td><p>0.73285</p></td>
<td><p>0.55538</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">minkowski</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.41892</p></td>
<td><p>0.40887</p></td>
<td><p>0.42778</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lcss</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p>0.00061</p></td>
<td><p>0.00104</p></td>
<td><p>0.00064</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">wlcss</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p>0.00054</p></td>
<td><p>0.00091</p></td>
<td><p>0.00056</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">edr</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p>0.00030</p></td>
<td><p>0.00052</p></td>
<td><p>0.00032</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ddtw</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p>0.00028</p></td>
<td><p>0.00048</p></td>
<td><p>0.00029</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dtw</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p>0.00028</p></td>
<td><p>0.00048</p></td>
<td><p>0.00029</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">wddtw</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p>0.00028</p></td>
<td><p>0.00048</p></td>
<td><p>0.00029</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">wdtw</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p>0.00028</p></td>
<td><p>0.00048</p></td>
<td><p>0.00029</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">erp</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p>0.00028</p></td>
<td><p>0.00048</p></td>
<td><p>0.00029</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">twe</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p>0.00021</p></td>
<td><p>0.00035</p></td>
<td><p>0.00022</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">msm</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(n)\)</span></p></td>
<td><p>0.00019</p></td>
<td><p>0.00032</p></td>
<td><p>0.00019</p></td>
</tr>
</tbody>
</table>
</section>
<section id="subsequence-metrics">
<h3>Subsequence metrics<a class="headerlink" href="#subsequence-metrics" title="Link to this heading">#</a></h3>
<table class="table">
<colgroup>
<col style="width: 40.0%" />
<col style="width: 12.0%" />
<col style="width: 12.0%" />
<col style="width: 12.0%" />
<col style="width: 12.0%" />
<col style="width: 12.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Metric name</p></th>
<th class="head"><p>Time</p></th>
<th class="head"><p>Space</p></th>
<th class="head"><p>Minimum</p></th>
<th class="head"><p>Maximum</p></th>
<th class="head"><p>Mean</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">chebyshev</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">euclidean</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.82372</p></td>
<td><p>0.49048</p></td>
<td><p>0.79202</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">manhattan</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.66394</p></td>
<td><p>0.75967</p></td>
<td><p>0.67113</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mass</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.56287</p></td>
<td><p>0.61275</p></td>
<td><p>0.56196</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scaled_euclidean</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(\text{max}(m; n))\)</span></p></td>
<td><p>0.49453</p></td>
<td><p>0.59627</p></td>
<td><p>0.49988</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cosine</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.42765</p></td>
<td><p>0.58025</p></td>
<td><p>0.43553</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">angular</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.42761</p></td>
<td><p>0.58982</p></td>
<td><p>0.43474</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">minkowski</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.21051</p></td>
<td><p>0.33659</p></td>
<td><p>0.21757</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">normalized_euclidean</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(1)\)</span></p></td>
<td><p>0.06851</p></td>
<td><p>0.10321</p></td>
<td><p>0.07092</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lcss</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(\text{max}(m; n))\)</span></p></td>
<td><p>0.00216</p></td>
<td><p>0.00413</p></td>
<td><p>0.00226</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scaled_dtw</span></code> <a class="footnote-reference brackets" href="#lb" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(\text{max}(m; n))\)</span></p></td>
<td><p>0.00146</p></td>
<td><p>0.00278</p></td>
<td><p>0.00153</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">edr</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(\text{max}(m; n))\)</span></p></td>
<td><p>0.00102</p></td>
<td><p>0.00195</p></td>
<td><p>0.00107</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ddtw</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(\text{max}(m; n))\)</span></p></td>
<td><p>0.00102</p></td>
<td><p>0.00194</p></td>
<td><p>0.00106</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">wddtw</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(\text{max}(m; n))\)</span></p></td>
<td><p>0.00099</p></td>
<td><p>0.00190</p></td>
<td><p>0.00104</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dtw</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(\text{max}(m; n))\)</span></p></td>
<td><p>0.00099</p></td>
<td><p>0.00189</p></td>
<td><p>0.00103</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">wdtw</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(\text{max}(m; n))\)</span></p></td>
<td><p>0.00097</p></td>
<td><p>0.00185</p></td>
<td><p>0.00101</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">msm</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(\text{max}(m; n))\)</span></p></td>
<td><p>0.00096</p></td>
<td><p>0.00182</p></td>
<td><p>0.00100</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">erp</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(\text{max}(m; n))\)</span></p></td>
<td><p>0.00095</p></td>
<td><p>0.00181</p></td>
<td><p>0.00099</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">twe</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(O(m\times n^2)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(O(\text{max}(m; n))\)</span></p></td>
<td><p>0.00071</p></td>
<td><p>0.00136</p></td>
<td><p>0.00074</p></td>
</tr>
</tbody>
</table>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="lb" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">1</a><span class="fn-bracket">]</span></span>
<p>Uses lower-bounding as described by Rakthanmanon, T., Campana, B.,
Mueen, A., Batista, G., Westover, B., Zhu, Q., Zakaria, J. and Keogh, E.,
2012, August. Searching and mining trillions of time series subsequences
under dynamic time warping. In Proceedings of the 18th ACM SIGKDD
international conference on Knowledge discovery and data mining (pp.
262-270). <a class="reference external" href="https://www.cs.ucr.edu/~eamonn/UCRsuite.html">See the UCR-suite for more details.</a></p>
</aside>
</aside>
</section>
</section>
<section id="parallelization">
<h2>Parallelization<a class="headerlink" href="#parallelization" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Wildboar employs parallelization to distribute the computation across
multiple samples concurrently. Consequently, performance improvements may
not be observed for a small number of extremely short time series. In
certain cases, the additional time required to create threads may actually
result in increased overall computation time.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>These measurements are from a Github CI build server and may not accurately
reflect the actual performance gains.</p>
</div>
<p>All functions discussed thus far support parallelization. Parallelization can be enabled by
setting the <cite>n_jobs</cite> parameter to a positive integer corresponding to the number of cores to
utilize, or to <code class="docutils literal notranslate"><span class="pre">-1</span></code> to employ all available cores.</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<span class="n">pairwise_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[:</span><span class="mi">100</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;dtw&quot;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.06307646200002637</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>Or we can specify an exact integer of the number of cores:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-column sd-col-12 sd-col-xs-12 sd-col-sm-12 sd-col-md-12 sd-col-lg-12 docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<span class="n">pairwise_distance</span><span class="p">(</span><span class="n">X</span><span class="p">[:</span><span class="mi">100</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;dtw&quot;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
</pre></div>
</div>
<div class="sd-mt-0 execute-return highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.1297157449999986</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>On my laptop, which is a MacBook equipped with an M2 processor, the computation
of pairwise distances using the parameter <cite>n_jobs=-1</cite> takes approximately 40
milliseconds, while performing the same computation with <cite>n_jobs=1</cite> takes
approximately 160 milliseconds.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../metrics.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Metrics</p>
      </div>
    </a>
    <a class="right-next"
       href="elastic.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Elastic metrics</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pairwise-distance">Pairwise distance</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#paired-distance">Paired distance</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minimum-distance">Minimum distance</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#multivariate-support">Multivariate support</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#subsequence-search">Subsequence search</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pairwise-subsequence-distance">Pairwise subsequence distance</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#benchmark">Benchmark</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metrics">Metrics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subsequence-metrics">Subsequence metrics</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parallelization">Parallelization</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/guide/metrics/distance.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2023, Isak Samsten.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>