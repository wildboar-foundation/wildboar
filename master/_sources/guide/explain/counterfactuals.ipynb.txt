{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Counterfactual explanations\n",
    "\n",
    "wildboar can explain predictions of nearest neighbors classifiers and shapelet forest classifiers\n",
    "using counterfactual samples. In this scenario, counterfactuals are samples that\n",
    "are transformed such that the labeling of the sample changes. For instance,\n",
    "we might want to explain what changes are required to transforms a sample\n",
    "labeled as `abnormal` to `normal`. In this scenario, the normal sample would\n",
    "be the counterfactual sample.\n",
    "\n",
    "In wildboar, counterfactual explainers are in the module ``wildboar.explain.counterfactual``.\n",
    "The easiest way to generate counterfactuals is to use the function ``counterfactuals``:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "from wildboar.explain.counterfactual import counterfactuals"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Currently, the classifiers that supports counterfactual explanations are ``ShapeletForestClassifier`` and ``KNearestNeighborsClassifier`` from ``wildboar`` and ``scikit-learn`` respectively. Model agnostic counterfactual explanations can be provided for any other estimators."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "To have more control over the generation of counterfactual samples, the classes ``KNeighborsCounterfactual`` and ``ShapeletForestCounterfactuals`` can be used. They implement the interface of ``BaseCounterfactuals`` which exposes two methods ``fit(estimator)`` and ``transform(x, y)``, where the former fits a counterfactual explainer to an estimator and the latter transform the i:th sample of `x` to a sample labeled as the i:th label in `y`."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "import matplotlib.pylab as plt\n",
    "from wildboar.datasets import load_dataset\n",
    "from wildboar.explain.counterfactual import KNeighborsCounterfactual\n",
    "from sklearn.neighbors import KNeighborsClassifier"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "That is, given "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "x_train, x_test, y_train, y_test = load_dataset(\"GunPoint\", merge_train_test=False)\n",
    "clf = KNeighborsClassifier(n_neighbors=5, metric=\"euclidean\")\n",
    "clf.fit(x_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [],
   "source": [
    "c = KNeighborsCounterfactual(random_state=123)\n",
    "c.fit(clf)\n",
    "counterfactual = c.transform(x_test, 1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.legend.Legend at 0x7fb7e145ebb0>"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "plt.plot(x_test[0])\n",
    "plt.plot(counterfactual[0])\n",
    "plt.legend([\"original\", \"counterfactual\"])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<div class=\"alert alert-info\">\n",
    "\n",
    "Warning\n",
    "\n",
    "``KNeighborsCounterfactuals`` only supports ``KNeighborsClassifier`` fit with the Euclidean distance.\n",
    "</div>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Example"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "In the following example, we explain the a nearest neighbors classifier and\n",
    "a shapelet forest classifier for the datasets `TwoLeadECG` and explaining samples\n",
    "classified as `2.0` if they instead where classified as `1.0` (in the legend\n",
    "denoted as `abnormal` and `normal` respectively)."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "from sklearn.model_selection import train_test_split\n",
    "from wildboar.ensemble import ShapeletForestClassifier\n",
    "from wildboar.explain.counterfactual import counterfactuals"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [],
   "source": [
    "x, y = load_dataset(\"TwoLeadECG\")\n",
    "x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.1, random_state=123)\n",
    "\n",
    "estimator = ShapeletForestClassifier(random_state=123, n_jobs=-1, metric=\"euclidean\")\n",
    "estimator.fit(x_train, y_train)\n",
    "x_test = x_test[y_test == 2.0]\n",
    "x_counterfactuals, valid, score = counterfactuals(\n",
    "    estimator, \n",
    "    x_test, \n",
    "    1.0, \n",
    "    scoring=\"euclidean\", \n",
    "    random_state=123,\n",
    ")\n",
    "\n",
    "x_test = x_test[valid]\n",
    "x_counterfactuals = x_counterfactuals[valid]\n",
    "i = np.argsort(score[valid])[:2]\n",
    "x_counterfactuals = x_counterfactuals[i, :]\n",
    "x_test = x_test[i, :]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Plotting the counterfactual with the lowest score, yeilds the following figure."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[<matplotlib.lines.Line2D at 0x7fb840fae130>]"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "plt.plot(x_test[0])\n",
    "plt.plot(x_counterfactuals[0])"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3.9.7 ('wb2')",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.9.7"
  },
  "orig_nbformat": 4,
  "vscode": {
   "interpreter": {
    "hash": "52652bfa9fd4561eadaaee81a668145a0f20ccab101fde0ad61faafa07b87b33"
   }
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
