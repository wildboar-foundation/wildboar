:orphan:


*******************************************
:py:mod:`wildboar.distance._matrix_profile`
*******************************************

.. py:module:: wildboar.distance._matrix_profile


Module Contents
---------------


Functions
---------

.. autoapisummary::

   wildboar.distance._matrix_profile.matrix_profile



.. py:function:: matrix_profile(x, y=None, *, window=5, dim=0, exclude=None, n_jobs=-1, return_index=False)

   
   Compute the matrix profile.

   - If only ``x`` is given, compute the similarity self-join of every subsequence in
     ``x`` of size ``window`` to its nearest neighbor in `x` excluding trivial matches
     according to the ``exclude`` parameter.
   - If both ``x`` and ``y`` are given, compute the similarity join of every
     subsequenec in ``y`` of size ``window`` to its nearest neighbor in ``x`` excluding
     matches according to the ``exclude`` parameter.

   :Parameters:

       **x** : array-like of shape (n_timestep, ), (n_samples, xn_timestep) or         (n_samples, n_dim, xn_timestep)
           The first time series.

       **y** : array-like of shape (n_timestep, ), (n_samples, yn_timestep) or         (n_samples, n_dim, yn_timestep), optional
           The optional second time series. y is broadcast to the shape of x if possible.

       **window** : int or float, optional
           The subsequence size, by default 5
           
           - if float, a fraction of `y.shape[-1]`.
           - if int, the exact subsequence size.

       **dim** : int, optional
           The dim to compute the matrix profile for, by default 0.

       **exclude** : int or float, optional
           The size of the exclusion zone. The default exclusion zone is  0.2 for
           similarity self-join and 0.0 for similarity join.
           
           - if float, expressed as a fraction of the windows size.
           - if int, exact size (0 >= exclude < window).

       **n_jobs** : int, optional
           The number of jobs to use when computing the profile.

       **return_index** : bool, optional
           Return the matrix profile index.

   :Returns:

       **mp** : ndarray of shape (profile_size, ) or (n_samples, profile_size)
           The matrix profile.

       **mpi** : ndarray of shape (profile_size, ) or (n_samples, profile_size), optional
           The matrix profile index.








   .. rubric:: Notes

   The `profile_size` depends on the input.

   - If `y` is `None`, `profile_size` is  ``x.shape[-1] - window + 1``
   - If `y` is not `None`, `profile_size` is ``y.shape[-1] - window + 1``

   .. rubric:: References

   Yeh, C. C. M. et al. (2016).
       Matrix profile I: All pairs similarity joins for time series: a unifying view
       that includes motifs, discords and shapelets. In 2016 IEEE 16th international
       conference on data mining (ICDM)

   .. only:: latex

      




   ..
       !! processed by numpydoc !!

