:orphan:


***************************************
:py:mod:`wildboar.datasets._repository`
***************************************

.. py:module:: wildboar.datasets._repository


Module Contents
---------------

Classes
-------

.. autoapisummary::

   wildboar.datasets._repository.Bundle
   wildboar.datasets._repository.JSONRepository
   wildboar.datasets._repository.NpBundle
   wildboar.datasets._repository.Repository
   wildboar.datasets._repository.RepositoryCollection




Attributes
----------

.. autoapisummary::

   wildboar.datasets._repository.DEFAULT_TAG


.. py:class:: Bundle(*, key, version, name, tag=None, arrays=None, description=None, collections=None)


   
   Base class for handling dataset bundles.














   :Attributes:

       **name** : str
           Human-readable name of the bundle

       **description** : str
           Description of the bundle

       **label_index** : int or array-like
           Index of the class label(s)


   ..
       !! processed by numpydoc !!
   .. py:method:: get_collection(collection)


   .. py:method:: get_filename(version=None, tag=None, ext=None)


   .. py:method:: list(archive, collection=None)

      
      List all datasets in this bundle.


      :Parameters:

          **archive** : ZipFile
              The bundle file

          **collection** : str, optional
              The collection name

      :Returns:

          **dataset_names** : list
              A sorted list of datasets in the bundle













      ..
          !! processed by numpydoc !!

   .. py:method:: load(name, archive)

      
      Load a dataset from the bundle.


      :Parameters:

          **name** : str
              Name of the dataset

          **archive** : ZipFile
              The zip-file bundle

      :Returns:

          **x** : ndarray
              Data samples

          **y** : ndarray
              Data labels

          **n_training_samples** : int
              Number of samples that are for training. The value is <= x.shape[0]

          **extras** : dict, optional
              Extra numpy arrays













      ..
          !! processed by numpydoc !!


.. py:class:: JSONRepository(url)


   Bases: :py:obj:`Repository`

   
   A repository is a collection of bundles.
















   ..
       !! processed by numpydoc !!
   .. py:property:: download_url

      
      The url template for downloading bundles.



      :Returns:

          **str** : the download url
              ..













      ..
          !! processed by numpydoc !!

   .. py:property:: identifier


   .. py:property:: name

      
      Name of the repository.



      :Returns:

          **str** : the name of the repository
              ..













      ..
          !! processed by numpydoc !!

   .. py:property:: version

      
      The repository version.



      :Returns:

          **str** : the version of the repository
              ..













      ..
          !! processed by numpydoc !!

   .. py:property:: wildboar_requires

      
      The minimum required wildboar version.



      :Returns:

          **str** : the min version
              ..













      ..
          !! processed by numpydoc !!

   .. py:attribute:: supported_version
      :value: '1.1'

      

   .. py:method:: get_bundles()

      
      Get all bundles.



      :Returns:

          **dict** : a dictionary of key and bundle
              ..













      ..
          !! processed by numpydoc !!


.. py:class:: NpBundle(*, key, version, name, tag=None, arrays=None, description=None, collections=None)


   Bases: :py:obj:`Bundle`

   
   bundle of numpy binary files.
















   ..
       !! processed by numpydoc !!

.. py:class:: Repository


   
   A repository is a collection of bundles.
















   ..
       !! processed by numpydoc !!
   .. py:property:: active


   .. py:property:: download_url
      :abstractmethod:

      
      The url template for downloading bundles.



      :Returns:

          **str** : the download url
              ..













      ..
          !! processed by numpydoc !!

   .. py:property:: identifier
      :abstractmethod:


   .. py:property:: name
      :abstractmethod:

      
      Name of the repository.



      :Returns:

          **str** : the name of the repository
              ..













      ..
          !! processed by numpydoc !!

   .. py:property:: version
      :abstractmethod:

      
      The repository version.



      :Returns:

          **str** : the version of the repository
              ..













      ..
          !! processed by numpydoc !!

   .. py:property:: wildboar_requires
      :abstractmethod:

      
      The minimum required wildboar version.



      :Returns:

          **str** : the min version
              ..













      ..
          !! processed by numpydoc !!

   .. py:method:: clear_cache(cache_dir, keep_last_version=True)


   .. py:method:: get_bundle(key)

      
      Get a bundle with the specified key.


      :Parameters:

          **key** : str
              Key of the bundle

      :Returns:

          **bundle** : Bundle, optional
              A bundle or None













      ..
          !! processed by numpydoc !!

   .. py:method:: get_bundles()
      :abstractmethod:

      
      Get all bundles.



      :Returns:

          **dict** : a dictionary of key and bundle
              ..













      ..
          !! processed by numpydoc !!

   .. py:method:: list_datasets(bundle, *, cache_dir, collection=None, version=None, tag=None, create_cache_dir=True, progress=True, force=False)


   .. py:method:: load_dataset(bundle, dataset, *, cache_dir, version=None, tag=None, create_cache_dir=True, progress=True, force=False)


   .. py:method:: refresh(timeout=None)

      
      Refresh the repository.
















      ..
          !! processed by numpydoc !!


.. py:class:: RepositoryCollection


   .. py:method:: install(repository, refresh=True, timeout=None, cache_dir=None)


   .. py:method:: load_repository(repository, cache_dir=None)


   .. py:method:: refresh(repository=None, timeout=None, cache_dir=None)


   .. py:method:: save_repository(repository, cache_dir=None)



.. py:data:: DEFAULT_TAG
   :value: 'default'

   

