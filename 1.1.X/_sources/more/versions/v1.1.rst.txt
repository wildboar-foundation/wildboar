.. currentmodule:: wildboar

.. _version-1-1:

Version 1.1
===========
**In development**

.. include:: defs.hrst

Dependencies
------------

Wildboar 1.1 requires Python 3.8+, numpy 1.17.3+, scipy 1.3.2+ and scikit-learn 1.1+.


New and changed models
----------------------

Wildboar 1.1 introduces a large number of new models, explanations and visualizations. Among
others we introduce :class:`ensemble.IntervalImportance` to highlight important temporal regions; 
:class:`linear_model.RocketClassifier` and :class:`linear_model.RocketRegressor` for 
state-of-the-art predictive performance using random convoultions. We have also been hard 
at work adding support for :func:`distance.matrix_profile` and implemented motif and regime
search in terms of it.


Changelog
---------

.. grid:: 1

  .. grid-item-card:: 
    
     :mod:`wildboar.annotate`
     ^^^
     
     - |Feature| :func:`annotate.motifs` added to find motifs
     - |Feature| :func:`annotate.regimes`` added to find regime changes

  .. grid-item-card::

    :mod:`wildboar.datasets`
    ^^^

    - |Enhancement| Setting a global cache directory has been deprecated.
    - |Enhancement| Repository definitions are cached locally to support loading cached datasets while offline.
    - |Enhancement| Support multiple preprocessing directives in :func:`datasets.load_dataset`.
    - |API| Rename ``datasets._filter`` to :mod:`datasets.filter`
  
  .. grid-item-card:: 
    
     :mod:`wildboar.distance`
     ^^^

     - |Feature| The new :func:`distance.matrix_profile` function construct a matrix profile
     
     - |Enhancement| The function :func:`distance.pairwise_subsequence_distance` generalizes the
       former `distance`-function and add support for ``n_jobs``.
     
     - |Enhancement| The function :func:`distance.paired_subsequence_distance` expands the 
       use-case for the former `distance`-function.

     - |Enhancement| The function :func:`distance.pairwise_distance` adds support for full distance computation.
     
     - |Enhancement| The function :func:`distance.paired_distance` adds support for paired full distance computation.
     
     - |Enhancement| The function :func:`distance.subsequence_match` generalizes the former 
       `matches`-function and add support for `n_jobs`.
     
     - |Enhancement| The function :func:`distance.paired_subsequence_match` expands the 
       use-case for the former `matches`-function.

  .. grid-item-card::

    :mod:`wildboar.ensemble`
    ^^^ 

    - |Feature| The new :class:`ensemble.RockestRegressor` is a classifier that constructs
      an ensemble of random convolution trees
    
    - |Feature| The new :class:`ensemble.RockestClassifier` is a regressor that constructs
      an ensemble of random convolution trees
    
    - |Feature| The new :class:`ensemble.IntervalForestClassifier` is a classifier that constructs
      an ensenble of interval trees
    
    - |Feature| The new :class:`ensemble.IntervalForestRegressor` is a regressor that constructs
      an ensenble of interval trees

  .. grid-item-card::

    :mod:`wildboar.embed`
    ^^^ 

    - |Feature| The new :class:`embed.RocketEmbedding` embed time series as random convolutions

    - |Feature| The new :class:`embed.RandomShapeletEmbedding` embed time series as the distance to random shapelets

    - |Feature| The new :class:`embed.IntervalEmbedding` embed time series as interval features

    - |Feature| The new :class:`embed.PivotEmbedding` embed time series as the distance to pivot time series

  .. grid-item-card::

    :mod:`wildboar.explain`
    ^^^ 

    - |Feature| The new :class:`explain.IntervalImportance` is an explanation that highlights
      important regions using permutation importances.

    - |Enhancement| :class:`explain.counterfactual.ShapeletForestCounterfactual` now support multivariate time series.

    - |Enhancement| :class:`explain.counterfactual.ShapeletForestCounterfactual` now support the `verbose` argument.

    - |Enhancement| The `method` argument of :func:`explain.counterfactual.counterfactuals` defaults to `best`. 
      The effect is the same as for `infer`, which has been deprecated.

    - |Enhancement| :func:`explain.counterfactual.counterfactuals` now support a dictionary of `method_args`.

    - |API| The parameters `background_x` and `background_y` of :class:`explain.counterfactual.PrototypeCounterfactual`
      has been renamed to `train_x` and `train_y`.

  .. grid-item-card::

    :mod:`wildboar.linear_model`
    ^^^ 

    - |Feature| The new :class:`linear_model.RocketClassifier` is a classifier that uses
      random convolutions and logistic regression

    - |Feature| The new :class:`linear_model.RandomShapeletClassifier` is a classifier that uses
      random shapelet distances and logistic regression

    - |Feature| The new :class:`linear_model.RocketRegressor` is a regressor that uses
      random convolutions and logistic regression

    - |Feature| The new :class:`linear_model.RandomShapeletRegressor` is a regressor that uses
      random shapelet distances and logistic regression

  .. grid-item-card::

    :mod:`wildboar.tree`
    ^^^
    
    - |Feature| The new :class:`tree.IntervalTreeClassifier` is a classifier that constructs
      trees using interval features.

    - |Feature| The new :class:`tree.IntervalTreeRegressor` is a regressor that constructs
      trees using interval features.

    - |Feature| The new :class:`tree.PivotTreeClassifier` is a classifier that uses pivot 
      time series and distance thresholds to construct trees.

    - |Feature| The new :class:`tree.PivotTreeRegressor` is a regressor that uses pivot 
      time series and distance thresholds to construct trees.

    - |Feature| The new :class:`tree.ProximityTreeClassifier` is a classifier that construct
      a tree that acts as an ensemble of distance metrics.

    - |Feature| The new :class:`tree.RocketTreeClassifier` is a classifier that construct
      random convolution trees
    
    - |Feature| The new :class:`tree.RocketTreeRegressor` is a regressor that construct
      random convolution trees

    - |API| Rename ``shapelet`` of the ``tree_`` attribute to ``feature``.


Other improvements
------------------

* Binary builds for Apple ARM processors (M1 and M2)

* Drop support for Python 3.7 and introduce support for Python 3.10
